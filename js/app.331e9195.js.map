{"version":3,"file":"js/app.331e9195.js","mappings":"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AS,CACP,CACEf,MAAO,KAET,CACEA,MAAO,MAET,CACEA,MAAO,KAET,CACEA,MAAO,KAET,CACEA,MAAO,KAET,CACEA,MAAO,MAET,CACEA,MAAO,MAET,CACEA,MAAO,MAET,CACEA,MAAO,MAET,CACEA,MAAO,MAET,CACEA,MAAO,OAET,CACEA,MAAO,QAIb,CACEA,MAAO,KACPe,QAAS,CACP,CACEf,MAAO,MAET,CACEA,MAAO,MAET,CACEA,MAAO,MAET,CACEA,MAAO,OAET,CACEA,MAAO,MAET,CACEA,MAAO,OAET,CACEA,MAAO,MAET,CACEA,MAAO,UAOJsC,EAAuB,CAElCC,SAAU,CACR,CACEvC,MAAO,MAET,CACEA,MAAO,MAET,CACEA,MAAO,MAET,CACEA,MAAO,MAET,CACEA,MAAO,MAET,CACEA,MAAO,MAET,CACEA,MAAO,MAET,CACEA,MAAO,MAET,CACEA,MAAO,QAKAwC,EAAwB7C,GAEjC,CAAC,KAAM,IAAK,KAAM,IAAK,IAAK,IAAK,KAAM,KAAM,MAAM8C,SACjD9C,GAGK,IACL,CAAC,KAAM,KAAM,MAAO,MAAM8C,SAAS9C,GAAc,IAEnD,CACE,KACA,KACA,KACA,MACA,KACA,MACA,KACA,MACA8C,SAAS9C,GAEJ,IACF,IA6BI+C,EAAuB,CAClC,CACE1C,MAAO,KACPS,MAAO,UAET,CACET,MAAO,KACPS,MAAO,iBAET,CACET,MAAO,OACPS,MAAO,cAET,CACET,MAAO,OACPS,MAAO,gBAET,CACET,MAAO,KACPS,MAAO,WAET,CACET,MAAO,MACPS,MAAO,kBAET,CACET,MAAO,MACPS,MAAO,gBAET,CACET,MAAO,KACPS,MAAO,YAET,CACET,MAAO,MACPS,MAAO,sBAET,CACET,MAAO,OACPS,MAAO,wBAIEkC,EAAsB,CACjC,CACE3C,MAAO,YACPS,MAAO,aAET,CACET,MAAO,WACPS,MAAO,YAET,CACET,MAAO,WACPS,MAAO,aAIJ,MAAMc,UAAuBqB,EAAAA,GAClCC,aAAAA,GACEC,MAAMD,gBACN,MAAM,MAAElB,EAAK,OAAEC,GAAW7C,KAAKgE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","sources":["webpack://logicflow-vue2-demo/./src/App.vue","webpack://logicflow-vue2-demo/./src/components/InfoCardNode.vue","webpack://logicflow-vue2-demo/./src/components/config.js","webpack://logicflow-vue2-demo/src/components/InfoCardNode.vue","webpack://logicflow-vue2-demo/./src/components/InfoCardNode.vue?be51","webpack://logicflow-vue2-demo/./src/components/InfoCardNode.vue?8564","webpack://logicflow-vue2-demo/./src/components/ImgGeneratePanel.vue","webpack://logicflow-vue2-demo/src/components/ImgGeneratePanel.vue","webpack://logicflow-vue2-demo/./src/components/ImgGeneratePanel.vue?e9a9","webpack://logicflow-vue2-demo/./src/components/ImgGeneratePanel.vue?ce87","webpack://logicflow-vue2-demo/./src/components/ImgGenerator.js","webpack://logicflow-vue2-demo/src/App.vue","webpack://logicflow-vue2-demo/./src/App.vue?50ae","webpack://logicflow-vue2-demo/./src/App.vue?69e2","webpack://logicflow-vue2-demo/./src/main.js","webpack://logicflow-vue2-demo/webpack/bootstrap","webpack://logicflow-vue2-demo/webpack/runtime/amd options","webpack://logicflow-vue2-demo/webpack/runtime/chunk loaded","webpack://logicflow-vue2-demo/webpack/runtime/compat get default export","webpack://logicflow-vue2-demo/webpack/runtime/define property getters","webpack://logicflow-vue2-demo/webpack/runtime/global","webpack://logicflow-vue2-demo/webpack/runtime/hasOwnProperty shorthand","webpack://logicflow-vue2-demo/webpack/runtime/make namespace object","webpack://logicflow-vue2-demo/webpack/runtime/node module decorator","webpack://logicflow-vue2-demo/webpack/runtime/jsonp chunk loading","webpack://logicflow-vue2-demo/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{ref:\"container\",staticClass:\"lf-container\"})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"lf-info-card-node\",style:(_vm.nodeStyle)},[_c('el-divider',{attrs:{\"content-position\":\"center\"}},[_vm._v(_vm._s(_vm.nodeTypeZhMap[_vm.type])+\"描述\")]),_c('el-form',_vm._l((_vm.config),function(item){return _c('el-form-item',{key:item.key,attrs:{\"label\":item.label}},[_c('el-select',{staticClass:\"lf-info-card-node-selector\",attrs:{\"size\":\"mini\",\"placeholder\":\"请选择\",\"filterable\":item.filterable,\"clearable\":item.clearable,\"multiple\":item.multiple,\"allow-create\":item.allowCreate},on:{\"focus\":_vm.onInfoCardNodeFocus,\"blur\":_vm.onInfoCardNodeBlur},model:{value:(_vm.descData[item.key]),callback:function ($$v) {_vm.$set(_vm.descData, item.key, $$v)},expression:\"descData[item.key]\"}},[(item.type === 'groupSelect')?_vm._l((item.options),function(group){return _c('el-option-group',{key:group.label,attrs:{\"label\":group.label}},_vm._l((group.options),function(item){return _c('el-option',{key:item.label,attrs:{\"label\":item.label,\"value\":item.label}})}),1)}):_vm._l((item.options),function(item){return _c('el-option',{key:item.label,attrs:{\"label\":item.label,\"value\":item.label}})})],2)],1)}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VueNodeModel } from \"@logicflow/vue-node-registry\";\nimport { assign } from \"lodash-es\";\n\nexport const nodeType = [\n  // 节点类型\n  \"sceneNode\",\n  \"subjectNode\",\n  \"behaviorNode\",\n  // \"adjectiveNode\",\n];\n\nexport const nodeTypeZhMap = {\n  // 节点类型转换中文\n  sceneNode: \"场景\",\n  subjectNode: \"主体\",\n  behaviorNode: \"行为\",\n  // adjectiveNode: \"形容\",\n};\n\nexport const nodeTypeIcon = {\n  // 不同的节点类型在拖拽面板中的icon映射\n  sceneNode:\n    \"data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNzMxNDk3NjAwNTA1IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjQyOTQiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiPjxwYXRoIGQ9Ik0xMjguMjk5IDEyOEM5Mi43ODggMTI4IDY0IDE1Ni43ODggNjQgMTkyLjI5OXY2MzkuNEM2NCA4NjcuMjEyIDkyLjc4OCA4OTYgMTI4LjI5OSA4OTZIODk1LjdjMzUuNTEyIDAgNjQuMy0yOC43ODggNjQuMy02NC4yOTlWMTkyLjI5OUM5NjAgMTU2Ljc4OCA5MzEuMjEyIDEyOCA4OTUuNzAxIDEyOEgxMjguMjk5ek0xMjggNTg4LjMxM2wxNzguMTYyLTE3OC4xNjJjMjQuNzk1LTI0Ljc5NSA2NC45OTYtMjQuNzk1IDg5Ljc5MiAwTDgxNy44MDMgODMySDEyOFY1ODguMzEzeiBtNzY4IDIzMS4zNzVMNjY2LjM4NSA1OTAuMDczbDY0LjcxOC02NC43MThjMjUuMTUzLTI1LjE1MiA2NS45MzMtMjUuMTUyIDkxLjA4NSAwTDg5NiA1OTkuMTY3djIyMC41MjF6TTY5NC42NSA0NzEuMjk5bC03My41MTkgNzMuNTE5TDQzMi42NTMgMzU2LjM0Yy00NS4wNjQtNDUuMDY0LTExOC4xMjctNDUuMDY0LTE2My4xOSAwTDEyOCA0OTcuODAzVjE5Mmg3Njh2MzE2LjY1N2wtMzcuMzU4LTM3LjM1OGMtNDUuMjg2LTQ1LjI4NS0xMTguNzA3LTQ1LjI4NS0xNjMuOTkyIDB6IiBwLWlkPSI0Mjk1IiBmaWxsPSIjMmMyYzJjIj48L3BhdGg+PC9zdmc+\",\n  subjectNode:\n    \"data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNzMxNDk3NjEyODUzIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjU0NTUiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiPjxwYXRoIGQ9Ik04NDguNiAxNzAuOUgxNzUuMWMtNDkuNiAwLTkwIDQwLjQtOTAgOTB2NTAxLjhjMCA0OS42IDQwLjQgOTAgOTAgOTBoNjczLjVjNDkuNiAwIDkwLTQwLjQgOTAtOTBWMjYwLjljMC00OS42LTQwLjQtOTAtOTAtOTB6IG0zMCA1OTEuOGMwIDE2LjUtMTMuNSAzMC0zMCAzMEgxNzUuMWMtMTYuNSAwLTMwLTEzLjUtMzAtMzBWMjYwLjljMC0xNi41IDEzLjUtMzAgMzAtMzBoNjczLjVjMTYuNSAwIDMwIDEzLjUgMzAgMzB2NTAxLjh6IiBmaWxsPSIjMmMyYzJjIiBwLWlkPSI1NDU2Ij48L3BhdGg+PHBhdGggZD0iTTUwMCA1NzAuMmM0Mi40LTMwLjEgNzAuMi03OS43IDcwLjItMTM1LjUgMC05MS42LTc0LjUtMTY2LjEtMTY2LjEtMTY2LjFzLTE2Ni4yIDc0LjQtMTY2LjIgMTY2YzAgNTUuOSAyNy43IDEwNS40IDcwLjIgMTM1LjUtNjAuNiAyOS41LTEwNi4zIDg2LjItMTE5LjcgMTU1LjctMi44IDE0LjYgNi43IDI4LjcgMjEuMyAzMS41IDEuNyAwLjMgMy40IDAuNSA1LjEgMC41IDEyLjYgMCAyMy45LTkgMjYuNC0yMS44IDE1LTc3LjcgODMuNS0xMzQuMiAxNjIuOC0xMzQuMiA3OS4zIDAgMTQ3LjggNTYuNCAxNjIuOCAxMzQuMiAyLjggMTQuNiAxNi45IDI0LjIgMzEuNSAyMS4zIDE0LjYtMi44IDI0LjItMTYuOSAyMS4zLTMxLjUtMTMuMy02OS40LTU5LTEyNi4xLTExOS42LTE1NS42eiBtLTk2LTIzLjNjLTYxLjkgMC0xMTIuMy01MC40LTExMi4zLTExMi4zUzM0Mi4xIDMyMi40IDQwNCAzMjIuNHMxMTIuMyA1MC40IDExMi4zIDExMi4zUzQ2NS45IDU0Ni45IDQwNCA1NDYuOXogbTQwNi42LTIzMC44SDY0MC4xYy0xMy44IDAtMjUgMTEuMi0yNSAyNXMxMS4yIDI1IDI1IDI1aDE3MC40YzEzLjggMCAyNS0xMS4yIDI1LTI1IDAuMS0xMy44LTExLjEtMjUtMjQuOS0yNXogbTAgOTkuNkg2NDAuMWMtMTMuOCAwLTI1IDExLjItMjUgMjVzMTEuMiAyNSAyNSAyNWgxNzAuNGMxMy44IDAgMjUtMTEuMiAyNS0yNXMtMTEuMS0yNS0yNC45LTI1eiBtMCAxMDYuMkg2NDAuMWMtMTMuOCAwLTI1IDExLjItMjUgMjVzMTEuMiAyNSAyNSAyNWgxNzAuNGMxMy44IDAgMjUtMTEuMiAyNS0yNXMtMTEuMS0yNS0yNC45LTI1eiIgZmlsbD0iIzJjMmMyYyIgcC1pZD0iNTQ1NyI+PC9wYXRoPjwvc3ZnPg==\",\n  behaviorNode:\n    \"data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNzMxNDk3NTM1ODgxIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE1MTMiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiPjxwYXRoIGQ9Ik0yMjAuNzQ4ODI0IDU4OC40MzI3MzhjMi44NTk4MzEgMCA1LjY1OTQ1NC0wLjM5MTM0NSA4LjM5ODg3MS0xLjExMzgyOWwxMzAuNDY4NDg2LTM0Ljk1MDE0MSAyMC41MzA1NzMgNDQuMjgyMjItMTA1LjcyMzQyNCA1OC44ODI0MDhhMzQuNjc5MjEgMzQuNjc5MjEgMCAwIDAtMTQuNzIwNjAyIDQzLjgwMDU2NGw2MS4xNzAyNzMgMTQ1Ljk0MTY3NWEzMi45MDMxMDQgMzIuOTAzMTA0IDAgMCAwIDQzLjkyMDk3OCAxNy45MTE1NzFjMTYuOTE4MTU2LTcuNTI1ODcgMjQuNzE0OTU4LTI3LjY5NTIwMiAxNy4zOTk4MTItNDUuMTI1MTE4bC00OS4xNTg5ODQtMTE3LjEwMjU0IDc5LjkyNDc0MS00NC41MjMwNDggNjEuMDE5NzU2IDk0LjEwMzQ4MWMzLjgyMzE0MiA1LjkwMDI4MiA5LjM2MjE4MyAxMC40NDU5MDggMTUuNzQ0MTIgMTMuMDM0ODA3bDE4MC44OTE4MTYgNzEuNDk1NzY3YzMuOTczNjU5IDEuNTY1MzgxIDguMDM3NjI5IDIuMjg3ODY1IDExLjk1MTA4MiAyLjI4Nzg2NWEzMy40MTQ4NjQgMzMuNDE0ODY0IDAgMCAwIDMxLjE4NzIwNi0yMS45NzU1NDEgMzQuNjc5MjEgMzQuNjc5MjEgMCAwIDAtMTkuMjA2MDIxLTQ0LjQzMjczOGwtMTcwLjk4Nzc3LTY3LjU1MjIxMS03MC42ODI5NzMtMTA4Ljk3NDYtMzIuMTUwNTE4LTY5LjUwODkzNyA3My4zOTIyODYtNTguMzQwNTQ1IDEwOC4zNDI0MjggMzcuMDg3NDg4YTMzLjIwNDEzOSAzMy4yMDQxMzkgMCAwIDAgNDIuMjM1MTgzLTIxLjczNDcxM2M1Ljc3OTg2OC0xOC4wMDE4ODEtMy42NDI1MjEtMzcuNDE4NjI3LTIxLjEwMjU0LTQzLjQwOTIxOWwtMTI1LjIzMDQ4LTQyLjkyNzU2NGEzMi41NDE4NjMgMzIuNTQxODYzIDAgMCAwLTMxLjAwNjU4NSA1LjQ0ODczbC03NS44OTA4NzUgNjAuNDE3Njg2LTIxLjU1NDA5Mi00Ni41NzAwODVhMTMxLjA3MDU1NSAxMzEuMDcwNTU1IDAgMCAwIDQyLjgzNzI1My05Ni44NzMwMDFjMC03MS43OTY4MDItNTYuODM1MzcyLTEzMC4xNjc0NTEtMTI2LjYxNTI0LTEzMC4xNjc0NS02OS44MDk5NzIgMC0xMjYuNjE1MjQgNTguMzcwNjQ5LTEyNi42MTUyNCAxMzAuMTY3NDUgMCA3MS44MjY5MDUgNTYuODA1MjY4IDEzMC4xOTc1NTQgMTI2LjYxNTI0IDEzMC4xOTc1NTQgOC4yMTgyNSAwIDE2LjI4NTk4My0wLjkzMzIwOCAyNC4xNDI5OTItMi40OTg1ODlsMjAuMTA5MTI1IDQzLjQ5OTUzLTEwMy43MDY0OTEgMjcuNzU1NDA5LTkzLjMyMDc5LTYzLjEyNjk5OWMtMTUuNDczMTg5LTEwLjQ3NjAxMS0zNi4xMjQxNzctNi4wNTA4LTQ2LjI2OTA1IDkuNzgzNjMxcy01Ljg0MDA3NSAzNy4xMTc1OTIgOS41NDI4MDMgNDcuNTMzMzk3bDEwNS43NTM1MjggNzEuNTU1OTczYzUuNTM5MDQgMy43OTMwMzkgMTEuOTIwOTc4IDUuNzE5NjYxIDE4LjM2MzEyMyA1LjcxOTY2MnogbTY1LjQ0NDk2Ny0yMDguODU3OTVjLTMzLjAyMzUxOCAwLTU5Ljg0NTcyLTI3LjYwNDg5Mi01OS44NDU3Mi02MS41MDE0MTEgMC0zMy45MjY2MjMgMjYuODgyNDA4LTYxLjUzMTUxNSA1OS44NDU3Mi02MS41MzE1MTRzNTkuNzg1NTEzIDI3LjYwNDg5MiA1OS43ODU1MTMgNjEuNTMxNTE0YzAgMzMuODk2NTE5LTI2Ljc5MjA5OCA2MS41MDE0MTEtNTkuNzg1NTEzIDYxLjUwMTQxMXogbTI3NC4wNjIwODktMTA4LjcwMzY2OWgxNzguMDYyMDg4YzE4LjQyMzMzIDAgMzMuMzg0NzYtMTUuNDEyOTgyIDMzLjM4NDc2LTM0LjQwODI3OCAwLTE4LjkzNTA4OS0xNC45NjE0My0zNC4zMTc5NjgtMzMuMzg0NzYtMzQuMzE3OTY4aC0xNzguMDYyMDg4Yy0xOC4zOTMyMjcgMC0zMy4zODQ3NiAxNS4zODI4NzktMzMuMzg0NzYxIDM0LjMxNzk2OC0wLjAzMDEwMyAxOS4wMjU0IDE0Ljk2MTQzIDM0LjQwODI3OCAzMy4zODQ3NjEgMzQuNDA4Mjc4eiBtNzcuOTA3ODA4IDEzMS41ODIzMTVjMCAxOC45NjUxOTMgMTQuOTMxMzI2IDM0LjM0ODA3MSAzMy4zODQ3NiAzNC4zNDgwNzFoMTc4LjA2MjA4OGMxOC40MjMzMyAwIDMzLjM4NDc2LTE1LjM1Mjc3NSAzMy4zODQ3Ni0zNC4zNDgwNzEgMC0xOC45NjUxOTMtMTQuOTYxNDMtMzQuMzQ4MDcxLTMzLjM4NDc2LTM0LjM0ODA3Mkg2NzEuNjA4NjU1Yy0xOC40ODM1MzcgMC4wMzAxMDMtMzMuNDQ0OTY3IDE1LjQxMjk4Mi0zMy40NDQ5NjcgMzQuMzQ4MDcyeiBtODkuMDQ2MDk2IDE1NC41MjExNjZjMCAxOC45NjUxOTMgMTQuOTMxMzI2IDM0LjMxNzk2OCAzMy4zNTQ2NTYgMzQuMzE3OTY4aDE3OC4wOTIxOTJjMTguNDIzMzMgMCAzMy4zODQ3Ni0xNS4zNTI3NzUgMzMuMzg0NzYtMzQuMzE3OTY4cy0xNC45NjE0My0zNC4zNzgxNzUtMzMuMzg0NzYtMzQuMzc4MTc1aC0xNzguMDkyMTkyYy0xOC4zOTMyMjcgMC4wMzAxMDMtMzMuMzU0NjU3IDE1LjQxMjk4Mi0zMy4zNTQ2NTYgMzQuMzc4MTc1eiIgcC1pZD0iMTUxNCIgZmlsbD0iIzJjMmMyYyI+PC9wYXRoPjwvc3ZnPg==\",\n  // adjectiveNode:\n  //   \"data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNzMxNDk3NTIxNzk3IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjUzNDQiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiPjxwYXRoIGQ9Ik05My44NjY2NjcgMjYzLjkwMTg2N2gxODYuOTM5NzMzQzI5My41NjM3MzMgMzA4LjUzMTIgMzM0LjYyNjEzMyAzNDEuMzMzMzMzIDM4My4yOTE3MzMgMzQxLjMzMzMzM2M0OC42NzQxMzMgMCA4OS43MzY1MzMtMzIuODAyMTMzIDEwMi40OTM4NjctNzcuNDMxNDY2SDkzMC4xMzMzMzNhMjEuMzMzMzMzIDIxLjMzMzMzMyAwIDEgMCAwLTQyLjY2NjY2N0g0ODkuMDI4MjY3QzQ4Mi4zOTc4NjcgMTY4Ljc0NjY2NyA0MzcuNTU1MiAxMjggMzgzLjI5MTczMyAxMjhzLTk5LjA5NzYgNDAuNzQ2NjY3LTEwNS43MjggOTMuMjM1Mkg5My44NjY2NjdhMjEuMzMzMzMzIDIxLjMzMzMzMyAwIDEgMCAwIDQyLjY2NjY2N3pNMzgzLjI5MTczMyAxNzAuNjY2NjY3YzM1LjI5Mzg2NyAwIDY0IDI4LjY5NzYgNjQgNjMuOTgyOTMzIDAgMzUuMzAyNC0yOC43MDYxMzMgNjQuMDE3MDY3LTY0IDY0LjAxNzA2N3MtNjQtMjguNzE0NjY3LTY0LTY0LjAxNzA2N2MwLTM1LjI4NTMzMyAyOC43MTQ2NjctNjMuOTgyOTMzIDY0LTYzLjk4MjkzM3pNOTMwLjEzMzMzMyA1MDIuODM1Mkg3MjMuMDM3ODY3QzcxNC41NzI4IDQ1Mi40MzczMzMgNjcwLjc1NDEzMyA0MTMuODY2NjY3IDYxNy45NjY5MzMgNDEzLjg2NjY2N3MtOTYuNjA1ODY3IDM4LjU3MDY2Ny0xMDUuMDcwOTMzIDg4Ljk2ODUzM0g5My44NjY2NjdhMjEuMzMzMzMzIDIxLjMzMzMzMyAwIDEgMCAwIDQyLjY2NjY2N2g0MjAuNTA1NmMxMS4yODk2IDQ2Ljc4ODI2NyA1My4zOTMwNjcgODEuNjk4MTMzIDEwMy41OTQ2NjYgODEuNjk4MTMzczkyLjI5NjUzMy0zNC45MDk4NjcgMTAzLjU5NDY2Ny04MS42OTgxMzNIOTMwLjEzMzMzM2EyMS4zMzMzMzMgMjEuMzMzMzMzIDAgMSAwIDAtNDIuNjY2NjY3ek02MTcuOTY2OTMzIDU4NC41MzMzMzNjLTM1LjI5Mzg2NyAwLTY0LTI4LjcxNDY2Ny02NC02NC4wMTcwNjYgMC0zNS4yODUzMzMgMjguNzA2MTMzLTYzLjk4MjkzMyA2NC02My45ODI5MzRzNjQgMjguNjk3NiA2NCA2My45ODI5MzRjMCAzNS4zMDI0LTI4LjcwNjEzMyA2NC4wMTcwNjctNjQgNjQuMDE3MDY2ek05MzAuMTMzMzMzIDc3NS45MDE4NjdINDg5LjAyODI2N0M0ODIuMzk3ODY3IDcyMy40MTMzMzMgNDM3LjU1NTIgNjgyLjY2NjY2NyAzODMuMjkxNzMzIDY4Mi42NjY2NjdzLTk5LjA5NzYgNDAuNzQ2NjY3LTEwNS43MjggOTMuMjM1Mkg5My44NjY2NjdhMjEuMzMzMzMzIDIxLjMzMzMzMyAwIDEgMCAwIDQyLjY2NjY2NmgxODYuOTM5NzMzYzEyLjc1NzMzMyA0NC42MjkzMzMgNTMuODI4MjY3IDc3LjQzMTQ2NyAxMDIuNDkzODY3IDc3LjQzMTQ2NyA0OC42NzQxMzMgMCA4OS43MzY1MzMtMzIuODAyMTMzIDEwMi40OTM4NjYtNzcuNDMxNDY3SDkzMC4xMzMzMzNhMjEuMzMzMzMzIDIxLjMzMzMzMyAwIDEgMCAwLTQyLjY2NjY2NnpNMzgzLjI5MTczMyA4NTMuMzMzMzMzYy0zNS4yOTM4NjcgMC02NC0yOC43MTQ2NjctNjQtNjQuMDE3MDY2IDAtMzUuMjg1MzMzIDI4LjcwNjEzMy02My45ODI5MzMgNjQtNjMuOTgyOTM0czY0IDI4LjY5NzYgNjQgNjMuOTgyOTM0YzAuMDA4NTMzIDM1LjMwMjQtMjguNjk3NiA2NC4wMTcwNjctNjQgNjQuMDE3MDY2eiIgZmlsbD0iIzJjMmMyYyIgcC1pZD0iNTM0NSI+PC9wYXRoPjwvc3ZnPg==\",\n};\n\nexport const nodeType2Model = (type) => {\n  // 节点Model类型映射\n  switch (type) {\n    case \"sceneNode\":\n      return SceneNodeModel;\n    case \"subjectNode\":\n      return SubjectNodeModel;\n    case \"behaviorNode\":\n      return BehaviorNodeModel;\n    // case \"adjectiveNode\":\n    //   return AdjectiveNodeModel;\n  }\n};\n\nexport const nodeTypeProperties = {\n  // 节点默认样式映射\n  sceneNode: {\n    width: 240,\n    height: 240,\n    style: {\n      background: \"#fff\",\n      border: \"3px solid #f57170\",\n    },\n  },\n  subjectNode: {\n    width: 240,\n    height: 400,\n    style: {\n      background: \"#fff\",\n      border: \"3px solid #15b7b9\",\n    },\n  },\n  behaviorNode: {\n    width: 240,\n    height: 140,\n    style: {\n      background: \"#fff\",\n      border: \"3px solid #ffde7d\",\n    },\n  },\n  // adjectiveNode: {\n  //   background: \"#fff\",\n  //   border: \"3px solid #a6acec\",\n  // },\n};\n\nexport const sceneOptionConfig = {\n  // 场景节点表单项下拉框取值\n  time: [\n    {\n      label: \"清晨\",\n    },\n    {\n      label: \"上午\",\n    },\n    {\n      label: \"中午\",\n    },\n    {\n      label: \"下午\",\n    },\n    {\n      label: \"傍晚\",\n    },\n    {\n      label: \"深夜\",\n    },\n  ],\n  place: [\n    {\n      label: \"房间\",\n    },\n    {\n      label: \"公司\",\n    },\n    {\n      label: \"公园\",\n    },\n    {\n      label: \"海边\",\n    },\n    {\n      label: \"山顶\",\n    },\n    {\n      label: \"湖边\",\n    },\n    {\n      label: \"森林\",\n    },\n  ],\n};\n\nexport const subjectOptionConfig = {\n  somatotype: [\n    {\n      label: \"高个子\",\n    },\n    {\n      label: \"矮个子\",\n    },\n    {\n      label: \"胖乎乎的\",\n    },\n    {\n      label: \"瘦瘦的\",\n    },\n  ],\n  hair: [\n    {\n      label: \"长发\",\n    },\n    {\n      label: \"短发\",\n    },\n    {\n      label: \"卷发\",\n    },\n    {\n      label: \"直发\",\n    },\n  ],\n  emotion: [\n    {\n      label: \"开心的\",\n    },\n    {\n      label: \"生气的\",\n    },\n    {\n      label: \"伤心的\",\n    },\n    {\n      label: \"惊讶的\",\n    },\n  ],\n  type: [\n    {\n      label: \"人物\",\n      options: [\n        {\n          label: \"男孩\",\n        },\n        {\n          label: \"女孩\",\n        },\n        {\n          label: \"少年\",\n        },\n        {\n          label: \"少女\",\n        },\n        {\n          label: \"男青年\",\n        },\n        {\n          label: \"女青年\",\n        },\n        {\n          label: \"中年男人\",\n        },\n        {\n          label: \"中年女人\",\n        },\n        {\n          label: \"老爷爷\",\n        },\n        {\n          label: \"老太太\",\n        },\n      ],\n    },\n    {\n      label: \"动物\",\n      options: [\n        {\n          label: \"猫\",\n        },\n        {\n          label: \"老虎\",\n        },\n        {\n          label: \"狗\",\n        },\n        {\n          label: \"狼\",\n        },\n        {\n          label: \"鹰\",\n        },\n        {\n          label: \"鸽子\",\n        },\n        {\n          label: \"鸭子\",\n        },\n        {\n          label: \"天鹅\",\n        },\n        {\n          label: \"鲤鱼\",\n        },\n        {\n          label: \"金鱼\",\n        },\n        {\n          label: \"金枪鱼\",\n        },\n        {\n          label: \"鲨鱼\",\n        },\n      ],\n    },\n    {\n      label: \"植物\",\n      options: [\n        {\n          label: \"柳树\",\n        },\n        {\n          label: \"松树\",\n        },\n        {\n          label: \"橡树\",\n        },\n        {\n          label: \"银杏树\",\n        },\n        {\n          label: \"玫瑰\",\n        },\n        {\n          label: \"向日葵\",\n        },\n        {\n          label: \"牡丹\",\n        },\n        {\n          label: \"茉莉\",\n        },\n      ],\n    },\n  ],\n};\n\nexport const behaviorOptionConfig = {\n  // 行为节点表单项下拉框取值\n  behavior: [\n    {\n      label: \"吃饭\",\n    },\n    {\n      label: \"睡觉\",\n    },\n    {\n      label: \"工作\",\n    },\n    {\n      label: \"旅行\",\n    },\n    {\n      label: \"购物\",\n    },\n    {\n      label: \"跑步\",\n    },\n    {\n      label: \"看书\",\n    },\n    {\n      label: \"唱歌\",\n    },\n    {\n      label: \"画画\",\n    },\n  ],\n};\n// 主体与量词的映射，如果主体是人，就返回个，如果主体是动物就返回只，如果主体是植物就反馈棵\nexport const subjectQuantifierMap = (type) => {\n  if (\n    [\"动物\", \"猫\", \"老虎\", \"狗\", \"狼\", \"鹰\", \"鸽子\", \"鸭子\", \"天鹅\"].includes(\n      type\n    )\n  )\n    return \"只\";\n  if ([\"鲤鱼\", \"金鱼\", \"金枪鱼\", \"鲨鱼\"].includes(type)) return \"条\";\n  if (\n    [\n      \"柳树\",\n      \"松树\",\n      \"橡树\",\n      \"银杏树\",\n      \"玫瑰\",\n      \"向日葵\",\n      \"牡丹\",\n      \"茉莉\",\n    ].includes(type)\n  )\n    return \"棵\";\n  return \"个\";\n};\n\n// export const adjectiveOptionConfig = {\n//   adjective: [\n//     {\n//       label: \"可爱的\",\n//     },\n//     {\n//       label: \"优雅的\",\n//     },\n//     {\n//       label: \"帅气的\",\n//     },\n//     {\n//       label: \"开心地\",\n//     },\n//     {\n//       label: \"生气地\",\n//     },\n//     {\n//       label: \"伤心地\",\n//     },\n//     {\n//       label: \"努力地\",\n//     },\n//   ],\n// };\n\nexport const imgStyleOptionConfig = [\n  {\n    label: \"默认\",\n    value: \"<auto>\",\n  },\n  {\n    label: \"摄影\",\n    value: \"<photography>\",\n  },\n  {\n    label: \"人像写真\",\n    value: \"<portrait>\",\n  },\n  {\n    label: \"3D卡通\",\n    value: \"<3d cartoon>\",\n  },\n  {\n    label: \"动画\",\n    value: \"<anime>\",\n  },\n  {\n    label: \"油画风\",\n    value: \"<oil painting>\",\n  },\n  {\n    label: \"水彩风\",\n    value: \"<watercolor>\",\n  },\n  {\n    label: \"素描\",\n    value: \"<sketch>\",\n  },\n  {\n    label: \"中国画\",\n    value: \"<chinese painting>\",\n  },\n  {\n    label: \"扁平插画\",\n    value: \"<flat illustration>\",\n  },\n];\n\nexport const imgSizeOptionConfig = [\n  {\n    label: \"1024*1024\",\n    value: \"1024*1024\",\n  },\n  {\n    label: \"720*1280\",\n    value: \"720*1280\",\n  },\n  {\n    label: \"1280*720\",\n    value: \"1280*720\",\n  },\n];\n\nexport class SceneNodeModel extends VueNodeModel {\n  setAttributes() {\n    super.setAttributes();\n    const { width, height } = this.properties;\n    if (width) this.width = width;\n    if (height) this.height = height;\n  }\n  getDefaultAnchor() {\n    const { x, y, id, width } = this;\n    const anchors = [\n      {\n        x: x + width / 2,\n        y: y,\n        id: `${id}_right`,\n        type: \"right\",\n      },\n    ];\n    return anchors;\n  }\n  getConnectedSourceRules() {\n    const rules = super.getConnectedSourceRules();\n    const subjectNodeOnlyAsTarget = {\n      message: \"场景节点的下一个节点只能是主体节点\",\n      validate: (source, target) => {\n        let isValid = true;\n        if (target.type !== \"subjectNode\") {\n          isValid = false;\n        }\n        return isValid;\n      },\n    };\n    const onlyCanAddTwoTarget = {\n      message: \"场景节点只能连接两个主体节点\",\n      validate: (source) => {\n        let isValid = true;\n        console.log(\n          \"source.outgoing.nodes.length\",\n          source,\n          source.outgoing.nodes.length\n        );\n        if (source.outgoing.nodes.length >= 2) {\n          isValid = false;\n        }\n        return isValid;\n      },\n    };\n    assign(rules, [subjectNodeOnlyAsTarget, onlyCanAddTwoTarget]);\n    return rules;\n  }\n}\n\nexport class SubjectNodeModel extends VueNodeModel {\n  setAttributes() {\n    super.setAttributes();\n    const { width, height } = this.properties;\n    if (width) this.width = width;\n    if (height) this.height = height;\n  }\n  getDefaultAnchor() {\n    const { x, y, id, width, height } = this;\n    const anchors = [\n      {\n        x: x + width / 2,\n        y: y + height / 4,\n        id: `${id}_right`,\n        type: \"right\",\n      },\n      {\n        x: x - width / 2,\n        y: y,\n        id: `${id}_left`,\n        type: \"left\",\n      },\n    ];\n    return anchors;\n  }\n  getConnectedSourceRules() {\n    const rules = super.getConnectedSourceRules();\n    const behaviorNodeOnlyAsTarget = {\n      message: \"主体节点的下一个节点只能是主体节点\",\n      validate: (source, target) => {\n        let isValid = true;\n        if (target.type !== \"behaviorNode\") {\n          isValid = false;\n        }\n        return isValid;\n      },\n    };\n    const onlyCanAddOneTarget = {\n      message: \"一个主体节点只能连接一个行为节点\",\n      validate: (source) => {\n        let isValid = true;\n        if (source.outgoing.nodes.length >= 1) {\n          isValid = false;\n        }\n        return isValid;\n      },\n    };\n    assign(rules, [behaviorNodeOnlyAsTarget, onlyCanAddOneTarget]);\n    return rules;\n  }\n}\n\nexport class BehaviorNodeModel extends VueNodeModel {\n  setAttributes() {\n    super.setAttributes();\n    const { width, height } = this.properties;\n    if (width) this.width = width;\n    if (height) this.height = height;\n  }\n  getDefaultAnchor() {\n    const { x, y, id, width } = this;\n    const anchors = [\n      {\n        x: x - width / 2,\n        y: y,\n        id: `${id}_left`,\n        type: \"left\",\n      },\n    ];\n    return anchors;\n  }\n}\n\n// export class AdjectiveNodeModel extends VueNodeModel {\n//   setAttributes() {\n//     super.setAttributes();\n//     const { width, height } = this.properties;\n//     if (width) this.width = width;\n//     if (height) this.height = height;\n//     this.configOption = adjectiveOptionConfig;\n//   }\n//   getDefaultAnchor() {\n//     const { x, y, id, width } = this;\n//     const anchors = [\n//       {\n//         x: x + width / 2,\n//         y: y,\n//         id: `${id}_left`,\n//         type: \"left\",\n//       },\n//     ];\n//     return anchors;\n//   }\n// }\n\nexport const nodeFormConfig = {\n  // 节点表单配置\n  sceneNode: [\n    {\n      key: \"time\",\n      label: \"时间\",\n      type: \"select\",\n      options: sceneOptionConfig.time,\n      filterable: true,\n      clearable: true,\n      allowCreate: true,\n    },\n    {\n      key: \"place\",\n      label: \"地点\",\n      type: \"select\",\n      options: sceneOptionConfig.place,\n      filterable: true,\n      clearable: true,\n      allowCreate: true,\n    },\n  ],\n  subjectNode: [\n    {\n      key: \"emotion\",\n      label: \"情绪\",\n      type: \"select\",\n      options: subjectOptionConfig.emotion,\n      filterable: true,\n      clearable: true,\n      allowCreate: true,\n    },\n    {\n      key: \"somatotype\",\n      label: \"体型\",\n      type: \"select\",\n      options: subjectOptionConfig.somatotype,\n      filterable: true,\n      clearable: true,\n      allowCreate: true,\n    },\n    {\n      key: \"hair\",\n      label: \"发型\",\n      type: \"select\",\n      options: subjectOptionConfig.hair,\n      filterable: true,\n      clearable: true,\n      allowCreate: true,\n    },\n    {\n      key: \"type\",\n      label: \"主体类型\",\n      type: \"groupSelect\",\n      options: subjectOptionConfig.type,\n      filterable: true,\n      clearable: true,\n      allowCreate: true,\n    },\n  ],\n  behaviorNode: [\n    {\n      key: \"behavior\",\n      label: \"行为\",\n      type: \"select\",\n      options: behaviorOptionConfig.behavior,\n      filterable: true,\n      clearable: true,\n      allowCreate: true,\n    },\n  ],\n  // adjectiveNode: [\n  //   {\n  //     key: \"adjective\",\n  //     label: \"形容\",\n  //     type: \"select\",\n  //   },\n  // ],\n};\n\nexport default null;\n","<template>\n  <div :style=\"nodeStyle\" class=\"lf-info-card-node\">\n    <el-divider content-position=\"center\"\n      >{{ nodeTypeZhMap[type] }}描述</el-divider\n    >\n    <el-form>\n      <el-form-item :label=\"item.label\" v-for=\"item in config\" :key=\"item.key\">\n        <el-select\n          class=\"lf-info-card-node-selector\"\n          size=\"mini\"\n          v-model=\"descData[item.key]\"\n          placeholder=\"请选择\"\n          :filterable=\"item.filterable\"\n          :clearable=\"item.clearable\"\n          :multiple=\"item.multiple\"\n          :allow-create=\"item.allowCreate\"\n          @focus=\"onInfoCardNodeFocus\"\n          @blur=\"onInfoCardNodeBlur\"\n        >\n          <template v-if=\"item.type === 'groupSelect'\">\n            <el-option-group\n              v-for=\"group in item.options\"\n              :key=\"group.label\"\n              :label=\"group.label\"\n            >\n              <el-option\n                v-for=\"item in group.options\"\n                :key=\"item.label\"\n                :label=\"item.label\"\n                :value=\"item.label\"\n              />\n            </el-option-group>\n          </template>\n          <template v-else>\n            <el-option\n              v-for=\"item in item.options\"\n              :key=\"item.label\"\n              :label=\"item.label\"\n              :value=\"item.label\"\n            />\n          </template>\n        </el-select>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { keys, isNil } from \"lodash-es\";\nimport { nodeFormConfig, nodeTypeZhMap } from \"./config\";\n\nexport default {\n  name: \"InfoCardNode\",\n  inject: [\"getNode\", \"getGraph\"],\n  data() {\n    return {\n      nodeTypeZhMap,\n      keys,\n      config: {},\n      descData: {},\n      node: null,\n      type: \"\",\n      graph: null,\n    };\n  },\n  computed: {\n    nodeStyle() {\n      if (isNil(this.$data.node)) return {};\n      return this.$data.node.getNodeStyle();\n    },\n  },\n  watch: {\n    descData: {\n      deep: true,\n      handler(newVal) {\n        this.$data.node.setProperties(newVal);\n      },\n    },\n  },\n  mounted() {\n    const { type } = this.getNode();\n    this.$data.config = nodeFormConfig[type];\n    this.$data.type = type;\n    this.$data.node = this.getNode();\n    this.$data.graph = this.getGraph();\n  },\n  methods: {\n    onInfoCardNodeFocus() {\n      this.$data.graph.eventCenter.emit(\"info-card-select-focus\");\n    },\n    onInfoCardNodeBlur() {\n      this.$data.graph.eventCenter.emit(\"info-card-select-blur\");\n    },\n  },\n};\n</script>\n\n<style>\n.lf-info-card-node {\n  width: calc(90% - 12px);\n  height: calc(96% - 20px);\n  background: #fff;\n  /* margin: 4px; */\n  padding: 10px;\n  border-radius: 10px;\n}\n.lf-info-card-nod-title {\n  margin-bottom: 10px;\n}\n\n.el-form-item__label {\n  line-height: 1;\n}\n</style>\n","import mod from \"-!../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.96.1/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.26.0_webpack@5.96.1/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.12_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__2dnwv33wcshjexuxr5fqoigkvy/node_modules/vue-loader/lib/index.js??vue-loader-options!./InfoCardNode.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.96.1/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.26.0_webpack@5.96.1/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.12_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__2dnwv33wcshjexuxr5fqoigkvy/node_modules/vue-loader/lib/index.js??vue-loader-options!./InfoCardNode.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./InfoCardNode.vue?vue&type=template&id=55922672\"\nimport script from \"./InfoCardNode.vue?vue&type=script&lang=js\"\nexport * from \"./InfoCardNode.vue?vue&type=script&lang=js\"\nimport style0 from \"./InfoCardNode.vue?vue&type=style&index=0&id=55922672&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.12_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__2dnwv33wcshjexuxr5fqoigkvy/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"img-generate-panel\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"API-key\")]),_c('el-alert',{attrs:{\"title\":\"注意：这个key的用量已经过半了，随时可能没办法调用。如果想要生成图片，推荐各位看官用自己的key嗷  2024.11.15\",\"type\":\"warning\"}}),_c('el-input',{attrs:{\"placeholder\":\"请输入API-key\"},on:{\"focus\":_vm.onGeneratePanelFocus,\"blur\":_vm.onGeneratePanelBlur},model:{value:(_vm.apiKey),callback:function ($$v) {_vm.apiKey=$$v},expression:\"apiKey\"}}),_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"描述\")]),_c('div',{staticClass:\"img-generate-panel-desc\"},[_vm._v(_vm._s(_vm.desc))]),_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"配置\")]),_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"请选择图片风格\"},model:{value:(_vm.imgStyle),callback:function ($$v) {_vm.imgStyle=$$v},expression:\"imgStyle\"}},_vm._l((_vm.imgStyleOptionConfig),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"请选择图片尺寸\"},model:{value:(_vm.composition),callback:function ($$v) {_vm.composition=$$v},expression:\"composition\"}},_vm._l((_vm.imgSizeOptionConfig),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-video-play\",\"round\":\"\",\"disabled\":_vm.generateDisabled},on:{\"click\":_vm.$_generateImg}},[_vm._v(\" 生成 \")])],1)],1),_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"图片生成\")]),_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.imgLoading),expression:\"imgLoading\"}],attrs:{\"span\":24}},_vm._l((_vm.imgList),function(imgUrl,index){return _c('el-image',{key:index,staticClass:\"img-generate-img\",attrs:{\"src\":imgUrl,\"preview-src-list\":_vm.imgList},on:{\"click\":function($event){return _vm.downloadImg(imgUrl)}}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"image-slot-icon el-icon-picture-outline\"})])])}),1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"img-generate-panel\">\n    <el-divider content-position=\"left\">API-key</el-divider>\n    <el-alert\n      title=\"注意：这个key的用量已经过半了，随时可能没办法调用。如果想要生成图片，推荐各位看官用自己的key嗷  2024.11.15\"\n      type=\"warning\"\n    >\n    </el-alert>\n    <el-input\n      v-model=\"apiKey\"\n      placeholder=\"请输入API-key\"\n      @focus=\"onGeneratePanelFocus\"\n      @blur=\"onGeneratePanelBlur\"\n    />\n    <el-divider content-position=\"left\">描述</el-divider>\n    <div class=\"img-generate-panel-desc\">{{ desc }}</div>\n    <el-divider content-position=\"left\">配置</el-divider>\n    <el-row :gutter=\"10\">\n      <el-col :span=\"12\">\n        <el-select size=\"small\" v-model=\"imgStyle\" placeholder=\"请选择图片风格\">\n          <el-option\n            v-for=\"item in imgStyleOptionConfig\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          >\n          </el-option>\n        </el-select>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-select\n          size=\"small\"\n          v-model=\"composition\"\n          placeholder=\"请选择图片尺寸\"\n        >\n          <el-option\n            v-for=\"item in imgSizeOptionConfig\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          >\n          </el-option>\n        </el-select>\n      </el-col>\n    </el-row>\n    <el-row>\n      <el-col :span=\"24\">\n        <el-button\n          type=\"primary\"\n          icon=\"el-icon-video-play\"\n          round\n          :disabled=\"generateDisabled\"\n          @click=\"$_generateImg\"\n        >\n          生成\n        </el-button>\n      </el-col>\n    </el-row>\n    <el-divider content-position=\"left\">图片生成</el-divider>\n    <el-row :gutter=\"10\">\n      <el-col :span=\"24\" v-loading=\"imgLoading\">\n        <el-image\n          :key=\"index\"\n          v-for=\"(imgUrl, index) in imgList\"\n          class=\"img-generate-img\"\n          :src=\"imgUrl\"\n          :preview-src-list=\"imgList\"\n          @click=\"downloadImg(imgUrl)\"\n        >\n          <div slot=\"error\" class=\"image-slot\">\n            <i class=\"image-slot-icon el-icon-picture-outline\"></i>\n          </div>\n        </el-image>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport LogicFlow from \"@logicflow/core\";\nimport axios from \"axios\";\nimport { isEmpty } from \"lodash-es\";\nimport { imgStyleOptionConfig, imgSizeOptionConfig } from \"./config\";\n\nexport default {\n  name: \"ImgGeneratePanel\",\n  props: {\n    lf: LogicFlow,\n    desc: {\n      type: String,\n      default: \"暂无描述\",\n    },\n  },\n  data() {\n    return {\n      imgStyleOptionConfig,\n      imgSizeOptionConfig,\n      imgStyle: \"\",\n      composition: \"\",\n      taskId: \"\",\n      taskStauts: \"\",\n      imgList: [\"\", \"\", \"\", \"\"],\n      intervalId: \"\",\n      imgLoading: false,\n      apiKey: \"sk-ede6d92ca2024eaa8880b7c7b8541725\",\n    };\n  },\n  mounted() {\n    this.$_getGenerateStatus();\n  },\n  computed: {\n    generateDisabled() {\n      return [\"PENDING\", \"RUNNING\"].includes(this.$data.taskStauts);\n    },\n  },\n  methods: {\n    onGeneratePanelFocus(e) {\n      console.log(\"focus\", e);\n      this.$props.lf.graphModel.eventCenter.emit(\"img-generator-focus\");\n    },\n    onGeneratePanelBlur() {\n      console.log(\"blur\");\n      this.$props.lf.graphModel.eventCenter.emit(\"img-generator-blur\");\n    },\n    async $_generateImg() {\n      this.$props.lf.graphModel.eventCenter.emit(\"generate-start\");\n      const { desc } = this.$props;\n      // \"上午的花园里, 有1个幼年猫、1个幼年狗 和 1个青年女性, 其中1个幼年猫 和 1个幼年狗在玩耍,1个青年女性在看书\";\n      const { imgStyle, composition } = this.$data;\n      this.$data.imgLoading = true;\n      const {\n        data: { code, message, output },\n      } = await axios.post(\n        process.env.NODE_ENV === \"production\"\n          ? \"https://dashscope.aliyuncs.com/api/v1/services/aigc/text2image/image-synthesis\"\n          : \"/ali/api/v1/services/aigc/text2image/image-synthesis\",\n        {\n          model: \"wanx-v1\",\n          input: {\n            prompt: desc,\n          },\n          parameters: {\n            style: imgStyle || \"<auto>\",\n            size: composition || \"1024*1024\",\n          },\n        },\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${this.$data.apiKey}`,\n            \"X-DashScope-Async\": \"enable\",\n          },\n        }\n      );\n      if (code) {\n        this.$message.error(message);\n        this.$data.imgLoading = false;\n        return;\n      }\n      const { task_id, task_status } = output;\n      this.$data.taskId = task_id;\n      this.$data.taskStauts = task_status;\n      this.intervalId = setInterval(() => {\n        if (\n          this.$data.taskId &&\n          [\"PENDING\", \"RUNNING\"].includes(this.$data.taskStauts)\n        ) {\n          this.$_getGenerateStatus();\n        }\n        if (\n          this.$data.taskId &&\n          [\"SUCCEEDED\", \"FAILED\", \"UNKNOWN\"].includes(this.$data.taskStauts)\n        ) {\n          this.$data.imgLoading = false;\n          clearInterval(this.intervalId);\n        }\n      }, 5000);\n    },\n    async $_getGenerateStatus() {\n      if (!this.$data.taskId) return;\n      const {\n        data: { code, message, output },\n      } = await axios.get(\n        process.env.NODE_ENV === \"production\"\n          ? `https://dashscope.aliyuncs.com/api/v1/tasks/${this.$data.taskId}`\n          : `/ali/api/v1/tasks/${this.$data.taskId}`,\n        {\n          headers: {\n            Authorization: `Bearer ${this.$data.apiKey}`,\n          },\n        }\n      );\n      if (code) {\n        this.$message.error(message);\n\n        return;\n      }\n      if (!isEmpty(output.results)) {\n        this.$data.imgList = output.results.map((item) => item.url);\n      }\n      this.$data.taskStauts = output.task_status;\n    },\n    downloadImg(url) {\n      if (!url) return;\n      const a = document.createElement(\"a\"); // 创建 <a> 标签\n      a.href = url; // 设置图片链接\n      a.download = `${url}.jpg`; // 设置下载的文件名（可修改格式）\n      document.body.appendChild(a); // 将 <a> 标签添加到 DOM\n      a.click(); // 触发下载\n      document.body.removeChild(a); // 下载后移除 <a> 标签\n    },\n  },\n  beforeDestroy() {\n    clearInterval(this.intervalId); // 组件销毁前清除定时器\n  },\n};\n</script>\n\n<style scoped>\n.img-generate-panel {\n  padding: 10px;\n}\n.img-generate-panel-desc {\n  padding: 10px;\n}\n.img-generate-img {\n  height: 120px;\n  width: 120px;\n  margin: 10px;\n  border: 3px solid #eaeaea;\n}\n.el-col {\n  margin: 10px 0;\n}\n.image-slot {\n  height: 100%;\n  width: 100%;\n  background: #eaeaea;\n}\n.image-slot-icon {\n  font-size: 30px;\n  color: #c0c4cc;\n  margin-top: 40px;\n}\n</style>\n","import mod from \"-!../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.96.1/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.26.0_webpack@5.96.1/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.12_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__2dnwv33wcshjexuxr5fqoigkvy/node_modules/vue-loader/lib/index.js??vue-loader-options!./ImgGeneratePanel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.96.1/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.26.0_webpack@5.96.1/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.12_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__2dnwv33wcshjexuxr5fqoigkvy/node_modules/vue-loader/lib/index.js??vue-loader-options!./ImgGeneratePanel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ImgGeneratePanel.vue?vue&type=template&id=720cc1b2&scoped=true\"\nimport script from \"./ImgGeneratePanel.vue?vue&type=script&lang=js\"\nexport * from \"./ImgGeneratePanel.vue?vue&type=script&lang=js\"\nimport style0 from \"./ImgGeneratePanel.vue?vue&type=style&index=0&id=720cc1b2&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.12_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__2dnwv33wcshjexuxr5fqoigkvy/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"720cc1b2\",\n  null\n  \n)\n\nexport default component.exports","// import LogicFlow from \"@logicflow/core\";\nimport Vue from \"vue\";\nimport { isEmpty, flattenDeep, uniqBy } from \"lodash-es\";\nimport ImgGeneratePanel from \"./ImgGeneratePanel.vue\";\nimport { subjectQuantifierMap } from \"./config\";\n\nexport class ImgGenerator {\n  static pluginName = \"imgGenerator\";\n  lf;\n  vueInstance;\n  panelComponent;\n  panelElement;\n  domContainer;\n  desc;\n  isMounted = false;\n\n  /**\n   * 核心流程\n   * 1. 获取画布数据的能力\n   * 2. 流程图数据转换成完整句子\n   * 3. 句子转换成propmpt\n   * 4. prompt生成图片并展示\n   * 5. 图片下载\n   */\n\n  constructor({ lf }) {\n    // do anything\n    this.lf = lf;\n    const {\n      graphModel: { eventCenter },\n    } = lf;\n    eventCenter.on(\"generate-start\", () => {\n      this.generateDesc();\n    });\n    eventCenter.on(\"img-generator-focus\", () => {\n      lf.keyboard.disable();\n    });\n    eventCenter.on(\"img-generator-blur\", () => {\n      lf.keyboard.enable();\n    });\n  }\n\n  render(lf, domContainer) {\n    const panelElement = document.createElement(\"div\");\n    const panelContainer = document.createElement(\"div\");\n    panelContainer.className = \"lf-generate-panel\";\n    panelContainer.appendChild(panelElement);\n    domContainer.appendChild(panelContainer);\n    this.domContainer = domContainer;\n    this.vueInstance = new Vue({\n      render: (h) => {\n        const component = h(ImgGeneratePanel, {\n          props: {\n            lf,\n            desc: this.desc,\n          },\n        });\n        this.panelComponent = component;\n        return component;\n      },\n    });\n    this.vueInstance.$mount(panelElement);\n    this.panelElement = panelElement;\n  }\n\n  generateDesc() {\n    const data = this.lf.getGraphData();\n    if (isEmpty(data)) return;\n    const result = this.convertDataToPrompt(data);\n    this.desc = result;\n    this.panelComponent.componentInstance.$props.desc = result;\n  }\n\n  statisticalSubject(data, withCount = true) {\n    // 初始化一个对象用于统计不同年龄和类型的数量\n    const counts = {};\n    // 遍历每个节点，统计每种年龄和类型的出现次数\n    data.forEach((node) => {\n      const {\n        somatotype = \"\",\n        hair = \"\",\n        emotion = \"\",\n        type = \"\",\n      } = node.properties;\n      const key = `${emotion}${somatotype}${hair}${type}`;\n\n      if (counts[key]) {\n        counts[key].count += 1;\n      } else {\n        counts[key] = { emotion, hair, somatotype, type, count: 1 };\n      }\n    });\n\n    // 将统计结果转换成文本描述\n    const result = Object.values(counts).map(\n      ({ emotion, hair, somatotype, type, count }) => {\n        return withCount\n          ? `${count}${subjectQuantifierMap(\n              type\n            )}${emotion}${somatotype}${hair}${type}`\n          : `${emotion}${somatotype}${hair}${type}`;\n      }\n    );\n    // 处理连接符，将最后一个描述项与前面的项用“和”连接\n    if (result.length > 1) {\n      return result.slice(0, -1).join(\"、\") + \"和\" + result[result.length - 1];\n    } else {\n      return result[0];\n    }\n  }\n\n  sceneInfoTranslater(sceneInfo) {\n    const { time, place } = sceneInfo;\n    return `${time || \"\"}${place ? `在${place}` : \"\"}，`;\n  }\n\n  summaryTranslater(subjectNodes, behaviors) {\n    if (subjectNodes.length > 2) {\n      const behaviorDesc =\n        behaviors.slice(0, -1).join(\"、\") +\n        \"和\" +\n        behaviors[behaviors.length - 1];\n      return `有${this.statisticalSubject(\n        subjectNodes\n      )}在${behaviorDesc}, 其中`;\n    }\n    return \"有\";\n  }\n\n  convertDataToPrompt(data) {\n    let sceneDesc = \"\";\n    let summary = \"\";\n    let subjectDesc = \"\";\n    let behaviorDesc = \"\";\n    let subjects = [];\n    let behaviors = [];\n    const sceneNodeInfo = data.nodes.find((node) => node.type === \"sceneNode\");\n\n    if (sceneNodeInfo) {\n      const { id, properties } = sceneNodeInfo;\n      sceneDesc = this.sceneInfoTranslater(properties);\n      const sceneNodeModel = this.lf.graphModel.getNodeModelById(id);\n      const { nodes } = sceneNodeModel.outgoing;\n      subjects = nodes.filter((node) => node.type === \"subjectNode\");\n    } else {\n      subjects = data.nodes\n        .filter((node) => node.type === \"subjectNode\")\n        .map((item) => this.lf.graphModel.getNodeModelById(item.id));\n    }\n    behaviors = uniqBy(\n      flattenDeep(\n        subjects.map((node) => {\n          const { nodes } = node.outgoing;\n          return nodes;\n        })\n      ),\n      \"id\"\n    );\n    if (!isEmpty(subjects)) {\n      subjectDesc = this.statisticalSubject(subjects);\n    }\n    if (!isEmpty(behaviors)) {\n      summary = this.summaryTranslater(subjects, behaviors);\n      // subjectDesc = statisticalSubject(nodes, false);\n      behaviorDesc = behaviors\n        .map((behaviorItem) => {\n          const subjects = behaviorItem.incoming.nodes.filter(\n            (node) => node.type === \"subjectNode\"\n          );\n          return `${this.statisticalSubject(subjects)}在${\n            behaviorItem.properties.behavior\n          }`;\n        })\n        .join(\",\");\n    }\n    console.log(\"desc\", sceneDesc, summary, subjectDesc, behaviorDesc);\n    return `${sceneDesc}${summary}${behaviorDesc || subjectDesc}`;\n  }\n\n  destroy() {\n    if (\n      this.domContainer &&\n      this.panelElement &&\n      this.domContainer.contains(this.panelElement)\n    ) {\n      this.vueInstance.$destroy();\n      this.domContainer.removeChild(this.panelElement);\n    }\n  }\n}\n","<template>\n  <div id=\"app\">\n    <div class=\"lf-container\" ref=\"container\"></div>\n  </div>\n</template>\n\n<script>\nimport LogicFlow from \"@logicflow/core\";\nimport { DndPanel } from \"@logicflow/extension\";\nimport \"@logicflow/core/lib/style/index.css\";\nimport \"@logicflow/extension/lib/style/index.css\";\nimport InfoCardNode from \"./components/InfoCardNode\";\nimport { ImgGenerator } from \"./components/ImgGenerator\";\nimport {\n  nodeType,\n  nodeType2Model,\n  nodeTypeZhMap,\n  nodeTypeIcon,\n  nodeTypeProperties,\n} from \"./components/config\";\nimport { register } from \"@logicflow/vue-node-registry\";\n\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      lf: null,\n    };\n  },\n  mounted() {\n    this.$_initLf();\n  },\n  methods: {\n    getNodePatternConfig(type) {\n      // 生成节点在拖拽面板上的映射\n\n      return {\n        type,\n        label: nodeTypeZhMap[type],\n        icon: nodeTypeIcon[type],\n        properties: nodeTypeProperties[type],\n      };\n    },\n    $_initLf() {\n      // 画布配置\n      const lf = new LogicFlow({\n        grid: {\n          enabled: true,\n          size: 20,\n        },\n        allowResize: true, // 全局的节点缩放配置\n        allowRotate: true, // 全局的节点旋转配置\n        keyboard: {\n          enabled: true,\n        },\n        edgeType: \"bezier\",\n        container: this.$refs.container,\n        plugins: [DndPanel, ImgGenerator],\n      });\n\n      const pattern = [];\n      nodeType.forEach((type) => {\n        register(\n          {\n            type: type,\n            component: InfoCardNode,\n            model: nodeType2Model(type),\n          },\n          lf\n        );\n        pattern.push(this.getNodePatternConfig(type));\n      });\n      lf.setPatternItems(pattern);\n      this.lf = lf;\n      this.lf.render({});\n      this.lf.on(\"connection:not-allowed\", ({ msg }) => {\n        this.$message.error(msg);\n      });\n      this.lf.on(\"info-card-select-focus\", () => {\n        this.lf.keyboard.disable();\n      });\n      this.lf.on(\"info-card-select-blur\", () => {\n        this.lf.keyboard.enable();\n      });\n    },\n  },\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n}\n.lf-container {\n  height: 100%;\n  width: 100%;\n}\n.lf-dndpanel {\n  width: 120px;\n  height: 540px;\n  margin-top: 120px;\n  background: #fff;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n}\n.lf-dnd-item {\n  width: 80px;\n  height: 80px;\n  border: 1px solid #acacac;\n  border-radius: 10px;\n}\n.lf-dnd-shape {\n  width: 100%;\n  height: 100%;\n  margin-bottom: 10px;\n}\n.lf-generate-panel {\n  width: 400px;\n  padding: 1%;\n  height: 800px;\n  background: #fff;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);\n  position: absolute;\n  right: 0;\n  top: 0;\n  border-radius: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n</style>\n","import mod from \"-!../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.96.1/node_modules/thread-loader/dist/cjs.js!../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.26.0_webpack@5.96.1/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.12_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__2dnwv33wcshjexuxr5fqoigkvy/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.96.1/node_modules/thread-loader/dist/cjs.js!../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.26.0_webpack@5.96.1/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.12_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__2dnwv33wcshjexuxr5fqoigkvy/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=03daa0ae\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=03daa0ae&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.12_css-loader@6.11.0_webpack@5.96.1__lodash@4.17.21__2dnwv33wcshjexuxr5fqoigkvy/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport ElementUI from \"element-ui\";\nimport \"element-ui/lib/theme-chalk/index.css\";\nimport App from \"./App.vue\";\n\nVue.use(ElementUI);\n\nVue.config.productionTip = false;\n\nnew Vue({\n  render: (h) => h(App),\n}).$mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunklogicflow_vue2_demo\"] = self[\"webpackChunklogicflow_vue2_demo\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(5682); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","ref","staticClass","staticRenderFns","style","nodeStyle","_v","_s","nodeTypeZhMap","type","_l","config","item","key","label","filterable","clearable","multiple","allowCreate","on","onInfoCardNodeFocus","onInfoCardNodeBlur","model","value","descData","callback","$$v","$set","expression","options","group","nodeType","sceneNode","subjectNode","behaviorNode","nodeTypeIcon","nodeType2Model","SceneNodeModel","SubjectNodeModel","BehaviorNodeModel","nodeTypeProperties","width","height","background","border","sceneOptionConfig","time","place","subjectOptionConfig","somatotype","hair","emotion","behaviorOptionConfig","behavior","subjectQuantifierMap","includes","imgStyleOptionConfig","imgSizeOptionConfig","VueNodeModel","setAttributes","super","properties","getDefaultAnchor","x","y","id","anchors","getConnectedSourceRules","rules","subjectNodeOnlyAsTarget","message","validate","source","target","isValid","onlyCanAddTwoTarget","console","log","outgoing","nodes","length","assign","behaviorNodeOnlyAsTarget","onlyCanAddOneTarget","nodeFormConfig","name","inject","data","keys","node","graph","computed","isNil","$data","getNodeStyle","watch","deep","handler","newVal","setProperties","mounted","getNode","getGraph","methods","eventCenter","emit","component","onGeneratePanelFocus","onGeneratePanelBlur","apiKey","desc","imgStyle","composition","generateDisabled","$_generateImg","directives","rawName","imgLoading","imgList","imgUrl","index","$event","downloadImg","slot","props","lf","LogicFlow","String","default","taskId","taskStauts","intervalId","$_getGenerateStatus","e","$props","graphModel","code","output","axios","post","input","prompt","parameters","size","headers","Authorization","$message","error","task_id","task_status","setInterval","clearInterval","get","isEmpty","results","map","url","a","document","createElement","href","download","body","appendChild","click","removeChild","beforeDestroy","ImgGenerator","constructor","_defineProperty","generateDesc","keyboard","disable","enable","domContainer","panelElement","panelContainer","className","vueInstance","Vue","h","ImgGeneratePanel","panelComponent","$mount","getGraphData","result","convertDataToPrompt","componentInstance","statisticalSubject","withCount","counts","forEach","count","Object","values","slice","join","sceneInfoTranslater","sceneInfo","summaryTranslater","subjectNodes","behaviors","behaviorDesc","sceneDesc","summary","subjectDesc","subjects","sceneNodeInfo","find","sceneNodeModel","getNodeModelById","filter","uniqBy","flattenDeep","behaviorItem","incoming","destroy","contains","$destroy","$_initLf","getNodePatternConfig","icon","grid","enabled","allowResize","allowRotate","edgeType","container","$refs","plugins","DndPanel","pattern","register","InfoCardNode","push","setPatternItems","msg","use","ElementUI","productionTip","App","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","m","amdO","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","splice","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","g","globalThis","Function","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}